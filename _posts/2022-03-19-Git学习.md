---
title: Git学习
categories:
- Notes
feature_text: |
  Git学习




---



<!-- more --> 



## Git

![image-20220319093659836](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319093659836.png)

### Git概述

#### 1.1 Git是什么

- Git是一个免费的、开源的**分布式版本控制系统**，可以快速高效的处理从小型到大型的各种项目。

- 分布式 vs 集中式 控制工具

#### 2.1 何为版本控制

- 一种记录文件内容变化以便将来查阅特定版本修订情况的系统
- 最重要的是可以记录文件修改历史记录，让用户能够查看历史版本，方便版本切换

#### 2.2 为什么需要版本控制

- 个人开发到团队协作的过渡

![image-20220319094725394](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319094725394.png)

#### 3.1 版本控制工具

- 集中式版本控制
  - 所有客户端都在一个集中的服务器上修改同一串代码。（类似共享文档？）
  - 中央服务器的单点故障会导致在一段时间内无法工作。

- 分布式版本控制
  - 可以在本地库下修改文件
  - 本地编辑解决了中央服务器 单点故障问题

#### 4.1 工作机制

![image-20220319095910176](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319095910176.png)

- 工作区：本地磁盘目录
- 暂存区：从工作区添加到暂存区做为临时存储，可以删除
- 本地库：提交到本地库后生成历史版本

#### 5.1 Git和代码托管中心

- **代码托管中心**是基于网络服务器的远程代码仓库，一般简单称为**远程库**。
  - 局域网：GitLab
  - 互联网：GitHub（外网）、Gitee马云（国内）



### Git常用命令

#### 1.1 初始命令

- ### ![image-20220319103019538](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319103019538.png) 

- 签名的作用是区分不同操作者身份，不设置可能会报错。（注：此用户签名和github登录用户名无关）

#### 1.2 初始化本地库

- 命令：`git init`

- 查看目录：`ll` `ll -a`

#### 1.3 查看本地库状态

- 查看本地库状态：`git status`
  ![image-20220319104011553](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319104011553.png)

  - 当前分支
  - 没有提交过任何内容
  - 有无可提交内容

- ![image-20220319104651051](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319104651051.png)

  表示有文件未上传到暂存区

#### 1.4 添加、删除文件到暂存区

- 添加：`git add hello.txt`
- 删除：`git rm --cached hello.txt`（删除暂存区，工作区仍然存在）

#### 1.5 将暂存区文件提交到本地库

- 基本语法：`git commit -m ` "日志信息" 文件名

  ```
  git commit -m "first commit" hello.txt
  ```

- 查看版本信息：`git reflog` `git log`

#### 1.6 修改文件

- `vim hello.txt`
- git修改文件的方式不是直接添加，而是以行为单位，删除一行再写入修改后的行 

#### 1.7 查看历史版本

- 简单的版本信息：`git reflog`
- 详细日志：`git flog`

#### 1.8 版本穿梭

- 基本语法：`git reset --hard 版本号`
- `master`中记录着当前版本号
- `head`指针指向`master`，实现版本穿梭实际上是`master`改变



### Git分支操作

#### 1.1 什么是分支（branch）

- 再版本控制过程中，同时推进多个任务，为每个任务，我们都可以创建每个任务的单独分支。使用分支意味着程序员可以把自己的工作从开发主线上分离出来，开发自己的分支并不影响主线分支运行。（初学可简单理解为副本，底层其实是指针的引用）

#### 1.2 分支好处

- 分支不影响主线运行

#### 2.1 分支的操作

- ![image-20220319185206957](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319185206957.png)
- 合并分支要在主分支上使用命令，命令中是需要合并进来的分支
- 产生冲突
  - 合并分支时，两个分支再同一个文件同一个位置中修改内容不同。
  - 手动修改，重新编辑文件，手动需改代码。注意此时使用`commit`命令不能带文件名。



### Git团队协作机制

#### 1.1 团队内协作

![image-20220319190853992](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319190853992.png)

#### 1.2 跨团队协作

![image-20220319191124649](C:\Users\PHY\AppData\Roaming\Typora\typora-user-images\image-20220319191124649.png)



### GitHub操作

#### 1.1 创建远程仓库别名

- 基本语法：
  - `git remote -v` 查看当前所有远程地址别名
  - `git remote add 别名 远程地址` 创建远程仓库别名（推送和拉取都能使用）

#### 1.2 推送本地分支到远程仓库

- 基本语法：`git push 别名 分支`

#### 1.3 拉取远程仓库到本地库

- 基本语法：`git pull 别名 分支`

#### 1.4 克隆远程仓库到本地

- 在对应文件夹下打开git
- `git clone 网址`

#### 



### GitHub上传代理问题

问题：

```
OpenSSL SSL_connect: Connection was reset in connection to github.com:443
```

- 查看代理：

  ```
  git config --global --get http.proxy
  git config --global --get https.proxy
  ```

  为空就是没有设置代理

- 设置代理：

  ```
  git config --global http.proxy 127.0.0.1:7890
  git config --global https.proxy 127.0.0.1:7890
  ```

- 取消配置：

  ```
  git config --global --unset http.proxy
  git config --global --unset https.proxy
  ```

  